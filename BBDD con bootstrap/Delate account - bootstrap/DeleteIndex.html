<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <title>USER</title>
    </head>
    
    <body class="container">
        <main class="row justify-content-start">
            
            <div class="container m-1 col-4 p-4 border border-danger rounded">
                <h1>USER</h1>
                <!--DELETE ACCOUNT-->
                <label for="deleteAccount" class="form-label">Delete account</label>

                <div class="">
                <input type="submit" id="deleteAccount" class="btn btn-danger col-12" value="Delete"/>
            </div>
        </main>
    </body>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
      import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js";
      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyCHNubjDGZZGF3tfYDYwRj7cbjopJvcSw4",
            authDomain: "ejemplo-conexion-bddd.firebaseapp.com",
            projectId: "ejemplo-conexion-bddd",
            storageBucket: "ejemplo-conexion-bddd.appspot.com",
            messagingSenderId: "63727665857",
            appId: "1:63727665857:web:f4b320cebda5c76f588a40"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      const auth = getAuth();
    
    
    
      //BORRAR CUENTA
      deleteAccount.addEventListener('click',(e)=>{
        const user = firebase.auth().currentUser;

        user.delete().then(() => {
          // User deleted.
          alert("USuario borrado");
        }).catch((error) => {
          alert("ERROR "+error);
        // An error ocurred
        // ...
        });
      });

    </script>
    
    </html>